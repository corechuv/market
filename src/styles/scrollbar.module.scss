// -----------------------------------------------------------------------------
//  custom-scrollbar.scss  •  Production‑ready fully custom scrollbars
// -----------------------------------------------------------------------------
//  • Cross‑browser: Chrome, Edge, Safari, Firefox (desktop & Android)
//  • Zero JS, pure CSS
//  • Drop‑in Sass module: @use "custom-scrollbar" as *;
//  • Highly themeable via variables or mixin args
// -----------------------------------------------------------------------------
//  ⚠  Limitations
//  ─────────────────────────────────────────────────────────────────────────────
//  • iOS Safari & older legacy browsers do not expose scrollbar styling APIs.
//    They will gracefully fall back to native scrollbars.
//  • The mixin respects users who enable forced‑colors/high‑contrast modes.
// -----------------------------------------------------------------------------

// ========== Default design tokens (override *before* @use) ====================
$scrollbar-size:                8px !default;  // width & height
$scrollbar-track-color:         rgba(240, 240, 240, 0) !default;
$scrollbar-thumb-color:         rgba(65, 65, 65, 0.6) !default;
$scrollbar-thumb-hover-color:   rgba(29, 29, 29, 0.8) !default;
$scrollbar-thumb-active-color:  rgb(34, 34, 34) !default;
$scrollbar-thumb-radius:        10px !default;
$scrollbar-track-radius:        10px !default;
$scrollbar-border-thickness:    2px !default; // Only for overlay style
$scrollbar-border-color:        transparent !default;

// ========== Core mixin ========================================================
//  @include custom-scrollbar();
//  or override any token per‑instance:
//  @include custom-scrollbar($thumb-color: red, $size: 12px);
// -----------------------------------------------------------------------------
@mixin custom-scrollbar(
  $size:                $scrollbar-size,
  $track-color:         $scrollbar-track-color,
  $thumb-color:         $scrollbar-thumb-color,
  $thumb-hover-color:   $scrollbar-thumb-hover-color,
  $thumb-active-color:  $scrollbar-thumb-active-color,
  $thumb-radius:        $scrollbar-thumb-radius,
  $track-radius:        $scrollbar-track-radius,
  $border-thickness:    $scrollbar-border-thickness,
  $border-color:        $scrollbar-border-color
) {
  /* Firefox */
  scrollbar-width: thin;
  scrollbar-color: #{$thumb-color} #{$track-color};

  /* WebKit-family (Chrome, Edge, Safari, Opera) */
  &::-webkit-scrollbar {
    width:  $size;
    height: $size;
  }
  &::-webkit-scrollbar-track {
    background-color: $track-color;
    border-radius: $track-radius;
  }
  &::-webkit-scrollbar-thumb {
    background-color: $thumb-color;
    border-radius: $thumb-radius;
    border: $border-thickness solid $border-color; // creates spacing for overlay look
  }
  &::-webkit-scrollbar-thumb:hover   { background-color: $thumb-hover-color; }
  &::-webkit-scrollbar-thumb:active  { background-color: $thumb-active-color; }
}

// ========== Utility mixins ====================================================
// Hide scrollbars (while keeping scrollability):
@mixin scrollbars-none {
  scrollbar-width: none; /* Firefox */
  &::-webkit-scrollbar { display: none; } /* WebKit */
}

// Always show scrollbars (useful for OS X where they auto‑hide by default):
@mixin scrollbars-always-visible {
  /* Only WebKit allows forcing visibility; on Firefox they are always visible */
  &::-webkit-scrollbar {
    -webkit-appearance: none !important;
    display: block !important;
  }
}

// ========== Example usage =====================================================
// .scroll-container {
//   overflow: auto;
//   @include custom-scrollbar; // use defaults
// }
//
// .theme-dark .scroll-container {
//   @include custom-scrollbar($track-color: rgb(30 30 30),
//                             $thumb-color: rgb(100 100 100 / .6),
//                             $thumb-hover-color: rgb(100 100 100 / .8));
// }
// -----------------------------------------------------------------------------
